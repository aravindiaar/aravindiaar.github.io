<!DOCTYPE html>
<html>
<head>
<title>jQuery Spline Chart</title>
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script> 
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script> 


<link rel="stylesheet" media="all" href="https://s3.amazonaws.com/dynatable-docs-assets/css/bootstrap-2.3.2.min.css" />
<link rel="stylesheet" media="all" href="https://s3.amazonaws.com/dynatable-docs-assets/css/jquery.dynatable.css" />
<script type='text/javascript' src='https://s3.amazonaws.com/dynatable-docs-assets/js/jquery.dynatable.js'></script>
    
<script type="text/javascript">
window.onload = function() {


data();



}

var dataPointsValues=[];
var RenderChartTitle="";
function data()
{


var CummPnL=0;

var settings = {
  "url": "https://aravindiaar.github.io/Data.json",
  "method": "GET",
  "timeout": 0,
};

$.ajax(settings).done(function (response) {
  console.log(response);
  
  var appendrowshtml="";
  var rowno=1;
    $.each(response, function (key, val) {
	<!-- var month = ["January","February","March","April","May","June","July","August","September","October","November","December"]; -->
	var sDate = new Date(Date.parse(val.Date,"MM/dd/yyyy"));
	var PnL=parseInt(val.PL);
	CummPnL =CummPnL+PnL;
	
     var fav="";
	 if(PnL<0)
	 {
	 fav="<img src='img/R.png'>";
	 }
	 else
	 {
	 fav="<img src='img/G.png'>";
	 }
		dataPointsValues.push({x: new Date(sDate.getFullYear(), sDate.getMonth(), sDate.getDate()), y: CummPnL}); 
		appendrowshtml += "<tr> <td>"+rowno+"</td> <td>"+sDate.toLocaleDateString("fr-FR")+"</td> <td>"+fav+PnL+"<td>"+CummPnL+"</td> </tr>";
		rowno++;
    });
	renderchart();
	 $("#Appendrows").append(appendrowshtml);
});

}


function renderchart()
{
	$("#chartContainer").CanvasJSChart({ 
		title: { 
			text: "Ledger from 01-Apr-2021 to 04-Mar-2022", 
			fontSize: 22 
		}, 
		axisY: { 
			title: "Profit and Loss in ₹", 
			includeZero: false, 
			Prefix: "₹" 
		}, 
		axisX: { 
			interval: 2, 
			intervalType: "week", 
			valueFormatString: "DD-MMM", 
			labelAngle: -45 
		}, 
		data: [ 
		{ 
			type: "spline",
			toolTipContent: "{x}:₹ {y} ",
			dataPoints: dataPointsValues
		} 
		] 
	});

}
</script>
</head>
<body>
<div id="chartContainer" style="width: 100%; height: 300px"></div>

<div class = "container">
	<table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Day</th>
                <th>Date</th>
                <th>PnL</th>
                <th>Cumulative PnL</th>
               
            </tr>
        </thead>
 
        <tfoot>
            <tr>
                    <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </tfoot>
 
        <tbody id="Appendrows">
            
           
        </tbody>
    </table>
 </div>
</body>
</html>



<!-- [  -->
				<!-- {x: new Date(2014, 00, 06), y: 3.91 },  -->
				<!-- {x: new Date(2014, 00, 13), y: 3.886},  -->
				<!-- {x: new Date(2014, 00, 20), y: 3.873},  -->
				<!-- {x: new Date(2014, 00, 27), y: 3.904},  -->
				<!-- {x: new Date(2014, 01, 03), y: 3.951},  -->
				<!-- {x: new Date(2014, 01, 10), y: 3.977},  -->
				<!-- {x: new Date(2014, 01, 17), y: 3.989},  -->
				<!-- {x: new Date(2014, 01, 24), y: 4.017},  -->
				<!-- {x: new Date(2014, 02, 03), y: 4.016},  -->
				<!-- {x: new Date(2014, 02, 10), y: 4.021},  -->
				<!-- {x: new Date(2014, 02, 17), y: 4.003},  -->
				<!-- {x: new Date(2014, 02, 24), y: 3.988},  -->
				<!-- {x: new Date(2014, 02, 31), y: 3.975},  -->
				<!-- {x: new Date(2014, 03, 07), y: 3.959},  -->
				<!-- {x: new Date(2014, 03, 14), y: 3.952},  -->
				<!-- {x: new Date(2014, 03, 21), y: 3.971},  -->
				<!-- {x: new Date(2014, 03, 28), y: 3.975},  -->
				<!-- {x: new Date(2014, 04, 05), y: 3.964},   -->
				<!-- {x: new Date(2014, 04, 12), y: 3.948},  -->
				<!-- {x: new Date(2014, 04, 19), y: 3.934},  -->
				<!-- {x: new Date(2014, 04, 26), y: 3.925}  -->
			<!-- ]  -->